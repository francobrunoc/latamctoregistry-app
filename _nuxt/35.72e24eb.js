(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{489:function(t,e,n){"use strict";n.r(e),n.d(e,"amplify_s3_text_picker",(function(){return v}));var r=n(23),c=n(89),o=n(496),l=n(535),f=n(531),h=(n(529),n(537)),y=function(t,e,n,r){return new(n||(n=Promise))((function(c,o){function l(t){try{h(r.next(t))}catch(t){o(t)}}function f(t){try{h(r.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?c(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,f)}h((r=r.apply(t,e||[])).next())}))},d=function(t,body){var e,n,r,g,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function o(o){return function(l){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,n=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(r=c.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){c.label=o[1];break}if(6===o[0]&&c.label<r[1]){c.label=r[1],r=o;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(o);break}r[2]&&c.ops.pop(),c.trys.pop();continue}o=body.call(t,c)}catch(t){o=[6,t],n=0}finally{e=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},w=new c.a("S3TextPicker"),v=function(){function t(t){Object(r.k)(this,t),this.contentType="text/*",this.level=l.a.Public,this.fallbackText=f.a.PICKER_TEXT}return t.prototype.handleInput=function(t){return y(this,void 0,void 0,(function(){var e,n,r,path,c,o,track,l,f;return d(this,(function(y){switch(y.label){case 0:if(e=t.target.files[0],r=(n=this).path,path=void 0===r?"":r,c=n.level,o=n.fileToKey,track=n.track,l=path+Object(h.b)(e,o),!e)throw new Error("No file was selected");y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Object(h.e)(l,e,c,track,e.type,w)];case 2:return y.sent(),this.src=l,[3,4];case 3:throw f=y.sent(),w.debug(f),new Error(f);case 4:return[2]}}))}))},t.prototype.render=function(){var t=this;return Object(r.i)(r.b,null,Object(r.i)("amplify-s3-text",{textKey:this.src,path:this.path,level:this.level,track:this.track,identityId:this.identityId,contentType:this.contentType,fallbackText:o.a.get(this.fallbackText)}),Object(r.i)("amplify-picker",{inputHandler:function(e){return t.handleInput(e)},acceptValue:"text/*"}))},t}()}}]);